# App包大小的优化

App瘦身主要是资源跟可执行文件

### 资源瘦身方案
1. 去除不必要的文件跟图片
2. 对图片进行资源压缩，可以使用webP
3. 一些资源文件可以通过运行时网络下发

### 可执行文件瘦身

对可执行文件瘦身就是找到并删除无用代码的过程。

1. 找出方法和类的合集
2. 找出使用过的方法跟类的集合
3. 对上述结果做差级
4. 人工确认后，删除无用代码，处理结果

通过在xcode中设置link map，获取方法跟类的合集到指定文件。

LinkMap分为三部分：

* Object File： 包括代码工程的所有文件
* Section：描述了代码在生成的Mach-O中的偏移位置
* symbols：列出每个方法，类，block以及她们的大小

通过AppCode进行静态分析。但是不够准确，需要人工干预，做第二次筛选。